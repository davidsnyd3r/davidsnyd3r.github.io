(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32468,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(47163),n=e.i(75254);let r=(0,n.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),l=(0,n.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=e.i(22016);function a(){let e,n,[a,d]=(0,s.useState)(2),[c,x]=(0,s.useState)(!0),[u,m]=(0,s.useState)(25),[h,b]=(0,s.useState)("MENU"),[p,f]=(0,s.useState)([]),[g,w]=(0,s.useState)(0),[j,N]=(0,s.useState)({positionHits:0,positionMisses:0,positionFalse:0,numberHits:0,numberMisses:0,numberFalse:0}),[v,M]=(0,s.useState)({position:!1,number:!1}),[y,k]=(0,s.useState)(null),[z,S]=(0,s.useState)(0),[H,A]=(0,s.useState)(0),[T,C]=(0,s.useState)(0),P=(0,s.useRef)(null),E=(0,s.useRef)(null),L=(0,s.useRef)(null),R=(0,s.useRef)(0),_=(0,s.useCallback)(()=>{let e=20+a,t=u/100,s=Array.from({length:20},(e,t)=>t+a);for(let e=s.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}let i=new Set,n=new Set;for(let e=0;e<2;e++){let t=s[e];i.add(t),n.add(t)}for(let e=2;e<6;e++)i.add(s[e]);for(let e=6;e<10;e++)e<s.length&&n.add(s[e]);let r=[];for(let s=0;s<e;s++)if(s<a)r.push({position:Math.floor(9*Math.random()),number:Math.floor(9*Math.random())+1});else{let e,l;if(i.has(s))e=r[s-a].position;else if(Math.random()<t){let t=[s-a-1,s-a+1].filter(e=>e>=0&&e<s&&e!==s-a);if(t.length>0)e=r[t[Math.floor(Math.random()*t.length)]].position;else do e=Math.floor(9*Math.random());while(e===r[s-a].position)}else do e=Math.floor(9*Math.random());while(e===r[s-a].position)if(n.has(s))l=r[s-a].number;else if(Math.random()<t){let e=[s-a-1,s-a+1].filter(e=>e>=0&&e<s&&e!==s-a);if(e.length>0)l=r[e[Math.floor(Math.random()*e.length)]].number;else do l=Math.floor(9*Math.random())+1;while(l===r[s-a].number)}else do l=Math.floor(9*Math.random())+1;while(l===r[s-a].number)r.push({position:e,number:l})}return r},[a,u]),U=()=>{P.current&&clearTimeout(P.current),E.current&&clearTimeout(E.current),L.current&&clearInterval(L.current)};(0,s.useCallback)((e,t)=>{w(e),M({position:!1,number:!1}),k({pos:t[e].position,label:t[e].number}),R.current=Date.now(),L.current&&clearInterval(L.current),L.current=setInterval(()=>{S(Math.min((Date.now()-R.current)/3e3*100,100))},16),E.current=setTimeout(()=>{k(null)},500),P.current=setTimeout(()=>{N(s=>{let i={...s};return e>=a&&(t[e].position,t[e-a].position,t[e].number,t[e-a].number),i}),D(e,t)},3e3)},[a]);let F=(0,s.useRef)({position:!1,number:!1}),I=(0,s.useRef)({positionHits:0,positionMisses:0,positionFalse:0,numberHits:0,numberMisses:0,numberFalse:0}),D=(e,t)=>{if(e>=a){let s=t[e].position===t[e-a].position,i=t[e].number===t[e-a].number;s&&!F.current.position&&I.current.positionMisses++,i&&!F.current.number&&I.current.numberMisses++}N({...I.current});let s=e+1;s<t.length?B(s,t):O()},B=(e,t)=>{F.current={position:!1,number:!1},M({position:!1,number:!1}),w(e),k({pos:t[e].position,label:t[e].number}),R.current=Date.now(),L.current&&clearInterval(L.current),L.current=setInterval(()=>{S(Math.min((Date.now()-R.current)/3e3*100,100))},16),E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{k(null)},500),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{D(e,t)},3e3)},G=()=>{let e=_();f(e),b("PLAYING"),I.current={positionHits:0,positionMisses:0,positionFalse:0,numberHits:0,numberMisses:0,numberFalse:0},N(I.current),B(0,e)},Y=()=>{U(),b("PAUSED")},O=()=>{U(),b("RESULTS"),A(e=>e+1),k(null);let e=I.current.positionHits+I.current.positionMisses,t=I.current.numberHits+I.current.numberMisses,s=Math.min(e>0?I.current.positionHits/e:0,t>0?I.current.numberHits/t:0);c&&(s>=.8?(a<9&&d(e=>e+1),C(0)):s<.5?T>=2?(a>1&&d(e=>e-1),C(0)):C(e=>e+1):C(0))},$=e=>{if(g<a||F.current[e])return;let t=p[g][e]===p[g-a][e];F.current[e]=!0,M(t=>({...t,[e]:!0})),t?I.current[`${e}Hits`]++:I.current[`${e}False`]++,N({...I.current})};(0,s.useEffect)(()=>{let e=e=>{"PLAYING"===h&&(("a"===e.key||"A"===e.key)&&$("position"),("l"===e.key||"L"===e.key)&&$("number")," "===e.key&&(e.preventDefault(),Y()))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[h,g,p,a]),(0,s.useEffect)(()=>()=>U(),[]);let K=e=>v[e]?g<a?"border-white/10":p[g][e]===p[g-a][e]?"bg-green-500/20 border-green-500/50 text-green-500":"bg-red-500/20 border-red-500/50 text-red-500":"border-white/10 text-muted-foreground";return(0,t.jsxs)("div",{className:"relative min-h-[600px] w-full max-w-2xl mx-auto flex flex-col items-center justify-center p-6 bg-zinc-950 rounded-3xl border border-white/5 shadow-2xl overflow-hidden font-sans select-none",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_30%_20%,rgba(99,102,241,0.08),transparent_50%)] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_70%_80%,rgba(139,92,246,0.05),transparent_50%)] pointer-events-none"}),"MENU"===h&&(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-sm text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"mb-2 text-xs font-bold tracking-widest text-indigo-500 uppercase",children:"Working Memory"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Dual N-Back"}),(0,t.jsxs)("p",{className:"text-sm text-zinc-500 mb-8",children:["Position + Number â€¢ ",20+a," trials"]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-5 mb-6 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold tracking-widest text-zinc-500 uppercase mb-4",children:"N-Back Level"}),(0,t.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,t.jsx)("button",{onClick:()=>d(e),className:(0,i.cn)("w-10 h-10 rounded-lg text-sm font-bold transition-all",a===e?"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white shadow-lg shadow-indigo-500/25 scale-105":"bg-transparent text-zinc-500 hover:bg-white/5 hover:text-zinc-300 border border-white/10"),children:e},e))}),c&&(0,t.jsx)("p",{className:"text-xs text-indigo-400",children:"Adaptive Mode Active"})]}),(0,t.jsx)("div",{className:"flex justify-center gap-3",children:(0,t.jsx)("button",{onClick:G,className:"px-8 py-3 rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 text-white font-bold shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 hover:scale-[1.02] active:scale-95 transition-all",children:"Start Session"})}),(0,t.jsxs)("div",{className:"mt-8 p-4 bg-white/5 rounded-xl text-left",children:[(0,t.jsxs)("p",{className:"text-xs text-zinc-500 mb-2",children:["Match if same as ",(0,t.jsxs)("strong",{className:"text-zinc-300",children:[a," steps back"]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-400",children:[(0,t.jsx)("kbd",{className:"w-6 h-6 flex items-center justify-center rounded bg-white/10 font-mono font-bold",children:"A"})," Position"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-400",children:[(0,t.jsx)("kbd",{className:"w-6 h-6 flex items-center justify-center rounded bg-white/10 font-mono font-bold",children:"L"})," Number"]})]})]}),(0,t.jsxs)(o.default,{href:"/projects",className:"absolute -top-16 left-0 text-zinc-500 hover:text-white flex items-center gap-1 text-sm",children:[(0,t.jsx)(l,{size:16})," Back"]})]}),"PLAYING"===h&&(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-sm flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"w-full flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{className:"bg-indigo-500/10 text-indigo-400 px-3 py-1 rounded-full text-xs font-bold",children:[a,"-Back"]}),(0,t.jsxs)("div",{className:"text-sm font-mono text-zinc-500",children:[g+1," / ",p.length]})]}),(0,t.jsx)("div",{className:"w-64 h-1 bg-white/5 rounded-full mb-8 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-100 ease-linear",style:{width:`${z}%`}})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 bg-white/5 p-4 rounded-2xl border border-white/5 mb-8",children:Array.from({length:9}).map((e,s)=>(0,t.jsx)("div",{className:(0,i.cn)("w-20 h-20 rounded-xl flex items-center justify-center text-3xl font-bold transition-all duration-150",y?.pos===s?"bg-gradient-to-br from-indigo-500 to-indigo-600 shadow-[0_0_30px_rgba(99,102,241,0.3)] scale-105 text-white":"bg-zinc-900/80 shadow-inner"),children:y?.pos===s?y.label:""},s))}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,t.jsxs)("button",{disabled:g<a||v.position,onClick:()=>$("position"),className:(0,i.cn)("flex-1 min-w-[140px] py-4 rounded-xl border font-bold text-sm transition-all flex items-center justify-center gap-2",K("position"),g<a&&"opacity-50 cursor-not-allowed"),children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded bg-white/10 flex items-center justify-center text-xs",children:"A"}),"Position"]}),(0,t.jsxs)("button",{disabled:g<a||v.number,onClick:()=>$("number"),className:(0,i.cn)("flex-1 min-w-[140px] py-4 rounded-xl border font-bold text-sm transition-all flex items-center justify-center gap-2",K("number"),g<a&&"opacity-50 cursor-not-allowed"),children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded bg-white/10 flex items-center justify-center text-xs",children:"L"}),"Number"]})]}),(0,t.jsxs)("button",{onClick:Y,className:"text-xs text-zinc-500 hover:text-white transition-colors flex items-center gap-1",children:[(0,t.jsx)(r,{size:12})," Pause Session"]})]}),"PAUSED"===h&&(0,t.jsxs)("div",{className:"relative z-10 text-center animate-in zoom-in-95 duration-200",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4 text-2xl",children:"â¸"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Paused"}),(0,t.jsxs)("p",{className:"text-sm text-zinc-500 mb-8",children:["Trial ",g+1," of ",p.length]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>{b("PLAYING"),B(g,p)},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-500 transition-colors",children:"Resume"}),(0,t.jsx)("button",{onClick:()=>b("MENU"),className:"px-6 py-2 bg-zinc-800 text-zinc-400 rounded-lg hover:bg-zinc-700 hover:text-white transition-colors",children:"End"})]})]}),"RESULTS"===h&&(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-sm text-center animate-in zoom-in-95 duration-300",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-500/10 text-green-500 flex items-center justify-center mx-auto mb-4 text-2xl",children:"ðŸŽ¯"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Session Complete"}),(0,t.jsxs)("p",{className:"text-sm text-zinc-500 mb-6",children:[a,"-Back â€¢ ",20," Trials"]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 mb-6",children:[(0,t.jsxs)("div",{className:"text-4xl font-bold bg-gradient-to-br from-white to-zinc-400 bg-clip-text text-transparent mb-1",children:[(e=j.positionHits+j.positionMisses,n=j.numberHits+j.numberMisses,Math.min(e?Math.round(j.positionHits/e*100):0,n?Math.round(j.numberHits/n*100):0)),"%"]}),(0,t.jsx)("p",{className:"text-xs text-zinc-500 uppercase tracking-widest font-bold",children:"Overall Accuracy"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/5",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-zinc-500 uppercase mb-2",children:"Position"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[j.positionHits+j.positionMisses?Math.round(j.positionHits/(j.positionHits+j.positionMisses)*100):0,"%"]}),(0,t.jsxs)("div",{className:"text-xs flex justify-center gap-3",children:[(0,t.jsxs)("span",{className:"text-green-500",children:["âœ“ ",j.positionHits]}),(0,t.jsxs)("span",{className:"text-red-500",children:["âœ— ",j.positionMisses+j.positionFalse]})]})]}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-xl p-4 border border-white/5",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-zinc-500 uppercase mb-2",children:"Number"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white mb-1",children:[j.numberHits+j.numberMisses?Math.round(j.numberHits/(j.numberHits+j.numberMisses)*100):0,"%"]}),(0,t.jsxs)("div",{className:"text-xs flex justify-center gap-3",children:[(0,t.jsxs)("span",{className:"text-green-500",children:["âœ“ ",j.numberHits]}),(0,t.jsxs)("span",{className:"text-red-500",children:["âœ— ",j.numberMisses+j.numberFalse]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,t.jsx)("button",{onClick:G,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-500 transition-colors shadow-lg shadow-indigo-500/20",children:"Next Session"}),(0,t.jsx)("button",{onClick:()=>b("MENU"),className:"px-6 py-3 bg-zinc-800 text-zinc-400 rounded-xl hover:bg-zinc-700 hover:text-white transition-colors",children:"Menu"})]})]})]})}e.s(["default",()=>a],32468)}]);